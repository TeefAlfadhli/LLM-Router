# LLM Router

LLM Router is a Python + Flask application that intelligently routes prompts to the most suitable large language model (LLM) based on **cost**, **latency**, or **quality**.
It supports **A/B testing** between models, logs all requests in a database, and provides a **modern interactive dashboard** to visualize usage and compare performance.

---

## ğŸš€ Features

* **Routing by optimization goal** (Cost / Latency / Quality)
* **JSON-based model lists** for different task types (`qa`, `summarization`, `code`)
* **SQLite logging** of all requests & test results
* **Interactive dashboard** with:

  * Recent requests
  * A/B test results (all-vs-all)
  * Model performance stats
* **Automatic A/B testing** with statistical analysis (t-test)
* **Integration with OpenRouter API** for multi-provider model access

---

## ğŸ“‚ Project Structure

```
LLMrouter/
â”‚â”€â”€ app.py                # Flask web app
â”‚â”€â”€ dashboard.html        # Dashboard template
â”‚â”€â”€ index.html            # Main chat UI template
â”‚â”€â”€ ab_test.py            # A/B testing script
â”‚â”€â”€ routing_logs.db       # SQLite database
â”‚â”€â”€ eval_prompts/         # Prompt sets for testing
â”‚â”€â”€ code.json             # Model list for 'code' tasks
â”‚â”€â”€ qa.json               # Model list for 'qa' tasks
â”‚â”€â”€ summarization.json    # Model list for 'summarization' tasks
â”‚â”€â”€ prompts.json          # Evaluation prompts for each task
â”‚â”€â”€ requirements.txt      # Dependencies
â”‚â”€â”€ .env.example          # Environment variables template
```

---

## âš™ï¸ Installation & Setup

### 1ï¸âƒ£ Clone the repo

```bash
git clone https://github.com/yourusername/llmrouter.git
cd llmrouter
```

### 2ï¸âƒ£ Create a virtual environment

```bash
python3 -m venv venv
source venv/bin/activate
```

### 3ï¸âƒ£ Install dependencies

```bash
pip install -r requirements.txt
```

### 4ï¸âƒ£ Configure environment variables

```bash
cp .env.example .env
# Open .env and set your OpenRouter API key
ROUTER_KEY=your_api_key_here
```

### 5ï¸âƒ£ Run the Flask app

```bash
python app.py
```

Go to **[http://127.0.0.1:5000](http://127.0.0.1:5000)** in your browser.

---

## ğŸ“Š Running A/B Tests

To compare all models for each task:

```bash
python ab_test.py
```

The script will:

* Load prompts from `eval_prompts/prompts.json`
* Compare models in **all-vs-all** fashion
* Store results in the database
* Display results in the dashboard

---

## ğŸ›  Requirements

* Python 3.9+
* OpenRouter API key
* Internet connection

---

## ğŸ“œ License

MIT License

